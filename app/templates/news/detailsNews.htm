<div class="col-md-12 news-block">
    <div>
        <img ng-src="{{detailNewsCtrl.news.main_image}}" class="img-responsive pull-left image-container"/>

        <div class="pull-right">
            <div>
                <a class="cursor-pointer" ng-click="detailNewsCtrl.toggleDeleteModal()">
                    <span class="glyphicon glyphicon-remove" data-original-title="Remove news" data-toggle="tooltip"
                          data-placement="left" tooltip-dir></span>
                </a>
            </div>
            <div>
                <a class="cursor-pointer" ng-click="detailNewsCtrl.toggleEditModal()">
                    <span class="glyphicon glyphicon-pencil" data-original-title="Edit news" data-toggle="tooltip"
                          data-placement="left" tooltip-dir></span>
                </a>
            </div>
        </div>
        <h3>{{detailNewsCtrl.news.title}}</h3>
        {{detailNewsCtrl.news.description}}
    </div>

    <div id="image-carousel" class="mt15 carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#image-carousel" data-slide-to="0" class="active"></li>
            <li data-target="#image-carousel" data-slide-to="1"></li>
            <li data-target="#image-carousel" data-slide-to="2"></li>
            <li data-target="#image-carousel" data-slide-to="3"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
            <div class="item" ng-class="{active: $index === 0}" ng-repeat="image in detailNewsCtrl.news.images"><img ng-src="{{image.image_url}}"></div>
        </div>
    </div>

    <div class="mt15">
        <video controls="" width="100%" src="{{detailNewsCtrl.news.video | trustUrl}}"></video>
    </div>

    <div class="row mt15">
        <div class="col-md-3 col-md-offset-6 col-xs-6 signature-row">
            <div class="well well-sm centered cursor-pointer" popover-title="Author" uib-popover="{{detailNewsCtrl.news.author.description}}">{{detailNewsCtrl.news.author.name}}</div>
        </div>
        <div class="col-md-3 col-xs-6 signature-row">
            <div class="well well-sm centered">{{detailNewsCtrl.news.created_date}}</div>
        </div>
    </div>

    <div>
        <uib-accordion>
            <uib-accordion-group is-open="status.open">
                <uib-accordion-heading>
                    <div ng-click="detailNewsCtrl.openComments(status.open)">
                        Comments! <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                    </div>
                </uib-accordion-heading>
                <div comment-dir></div>
            </uib-accordion-group>
        </uib-accordion>
    </div>

    <div class="modal fade" id="deleteNewsModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" ng-click="detailNewsCtrl.cancelDelete()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title">Delete news: {{detailNewsCtrl.shelveNews.title}}</h4>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger centered" role="alert">
                        Do you really want to delete this news?
                        <br>
                        You will not be able to restore it later.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" ng-click="detailNewsCtrl.cancelDelete()">Cancel</button>
                    <button type="button" class="btn btn-primary" ng-click="detailNewsCtrl.deleteNews(detailNewsCtrl.news)">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editNewsModal" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" ng-click="detailNewsCtrl.cancelEdit()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title">Edit news: {{detailNewsCtrl.shelveNews.title}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="edit_title">Title</label>
                        <input id="edit_title" class="form-control" ng-model="detailNewsCtrl.shelveNews.title" type="text">
                    </div>
                    <div class="form-group">
                        <label for="edit_description">Description</label>
                        <textarea id="edit_description" class="form-control" ng-model="detailNewsCtrl.shelveNews.description" rows="10"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="edit_author">Author</label>
                        <input id="edit_author" class="form-control" ng-model="detailNewsCtrl.shelveNews.author.name" type="text">
                    </div>
                    <div class="form-group">
                        <label for="edit_video_url">Video</label>
                        <input id="edit_video_url" class="form-control" ng-model="detailNewsCtrl.shelveNews.video" type="text" >
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" ng-click="detailNewsCtrl.cancelEdit()">Cancel</button>
                    <button type="button" class="btn btn-primary" ng-click="detailNewsCtrl.editNews(detailNewsCtrl.shelveNews)">Save changes</button>
                </div>
            </div>
        </div>
    </div>

</div>